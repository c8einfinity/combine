<div class="row" >
    <div class="col-4">
        <h5 class="text-anton text-maastricht-blue pb-2">Submit for {{ player.first_name }} {{ player.last_name }} <button class="btn btn-soft-green " style="float: right" onclick="loadPage('/api/athletes/{{ player.id }}/results', 'tabPlayerQ')"> Submit </button></h5>
    </div>
    <div class="col">

        <ul class="nav nav-tabs">
            <h5 class="text-anton text-maastricht-blue pb-2 p-2">Player Q Results</h5>
            <li class="nav-item">
                <a class="nav-link active" data-toggle="tab" href="#" >Player</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#" >Coach</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#" >Scout</a>
            </li>
        </ul>
    </div>
</div>
<div class="row ">
    <div class="col-4">
        <form id="text-submit">
            <textarea id="playerText" name="playerText" class="form-control mt-2" rows="20" placeholder="Text to submit" onkeyup="$('#wordCount').html(countWords('playerText'))">{{ text }}</textarea>
            <b>Word Count:</b> <span id="wordCount">0</span>
            <script>
                function countWords(input) {

                    // Get the input text value
                    let text = document.getElementById(input).value;

                    // Initialize the word counter
                    let numWords = 0;

                    // Loop through the text
                    // and count spaces in it
                    for (let i = 0; i < text.length; i++) {
                        let currentCharacter = text[i];

                        // Check if the character is a space
                        if (currentCharacter == " ") {
                            numWords += 1;
                        }
                    }

                    // Add 1 to make the count equal to
                    // the number of words
                    // (count of words = count of spaces + 1)
                    numWords += 1;
                    return numWords;
                }

                $('#wordCount').html(countWords('playerText'));
            </script>
        </form>
    </div>
    <div class="col">

        <div id="player-report"></div>
        <script>
            $.ajaxSetup({
                headers:{
                    'Authorization': "Bearer {{ TEAMQ_API_KEY }}",
                    'Content-Type': 'application/json'
                }
            });

            $.post('{{ TEAMQ_RESULTS_ENDPOINT }}', data=JSON.stringify({candidate_id: '67b44f59b8b16a8498272d57'}),
                function (data) {
                    $("#player-report").html(data["player"]["html"]);
                }
            );
        </script>
    </div>
</div>



